
define('modules/microtmpl',['require','exports','module'],function(require,exports,module){(function(){var cache={},tmpl;exports=tmpl=function(str,data){var fn=!/\W/.test(str)?cache[str]=cache[str]||tmpl(document.getElementById(str).innerHTML):new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};"+"var ie8EscHTML = function(s){ var l = { '&amp;' : /&/g, '&lt;' : /</g, '&gt;' : />/g, '&#039;' : /\x27/g, '&quot;' : /\x22/g }; for (var i in l) { s = s.replace(l[i], i); } return s;};"+"var escapeHtml = function(str){var tempDiv = document.createElement('div'), strHtml = ''; tempDiv.innerText ? tempDiv.innerText = str : tempDiv.textContent = str; strHtml = tempDiv.innerHTML; tempDiv = null; if(!strHtml && str){strHtml = ie8EscHTML(str + ''); }; return strHtml;};"+"with(obj){p.push('"+
str.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").replace(/\t-(.*?)%>/g,"',escapeHtml($1),'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")
+"');}return p.join('');");return data?fn(data):fn;};})();return exports;});define('modules/json2param',['jquery'],function($){function parse(str){var params={},pieces=str.split('&'),pair,i,l;for(i=0,l=pieces.length;i<l;i++){pair=pieces[i].split('=');if(!!$.trim(pair[0])){params[decodeURIComponent(pair[0])]=(pair.length==2?decodeURIComponent(pair[1]):true);}}
    return params;};function stringify(json){var re=[];$.each(json,function(k,v){re.push(k+'='+encodeURIComponent(v));})
    return re.join('&');}
    return{parse:parse,stringify:stringify}});define('modules/uriparams',['jquery','modules/json2param'],function($,params){var parse=params.parse,stringify=params.stringify,regx=/search|hash/;function get(type,key){var l=location,s,h,re,o;if(regx.test(type)){re=parse(l[type].slice(1));}else{s=parse(l.search.slice(1));h=parse(l.hash.slice(1));o={'search':s,'hash':h}
    re=o;if(type!==undefined){key=type;if(key in o.search){re=o.search;}else if(key in o.hash){re=o.hash;}}}
    if(!!key){if(key in re){re=re[key];}else{re=null;}}
    return re;}
    function set(type,key,val){var d,t;if(!regx.test(type)){return;}
        d=get(type);t=$.type(key);if(t==='object'){$.each(key,function(k,v){d[k]=v;})}else if(t==='string'){d[key]=val||true;}
        d=params.stringify(d);location[type]=d;return d;}
    function remove(type,key){var o=get(type);delete o[key];location[type]=params.stringify(o);return o;}
    return{get:get,remove:remove,set:set}});define('jui/position',['jquery'],function(jQuery){(function($,undefined){$.ui=$.ui||{};var cachedScrollbarWidth,max=Math.max,abs=Math.abs,round=Math.round,rhorizontal=/left|center|right/,rvertical=/top|center|bottom/,roffset=/[\+\-]\d+(\.[\d]+)?%?/,rposition=/^\w+/,rpercent=/%$/,_position=$.fn.position;function getOffsets(offsets,width,height){return[parseFloat(offsets[0])*(rpercent.test(offsets[0])?width/100:1),parseFloat(offsets[1])*(rpercent.test(offsets[1])?height/100:1)];}
    function parseCss(element,property){return parseInt($.css(element,property),10)||0;}
    function getDimensions(elem){var raw=elem[0];if(raw.nodeType===9){return{width:elem.width(),height:elem.height(),offset:{top:0,left:0}};}
        if($.isWindow(raw)){return{width:elem.width(),height:elem.height(),offset:{top:elem.scrollTop(),left:elem.scrollLeft()}};}
        if(raw.preventDefault){return{width:0,height:0,offset:{top:raw.pageY,left:raw.pageX}};}
        return{width:elem.outerWidth(),height:elem.outerHeight(),offset:elem.offset()};}
    $.position={scrollbarWidth:function(){if(cachedScrollbarWidth!==undefined){return cachedScrollbarWidth;}
        var w1,w2,div=$("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),innerDiv=div.children()[0];$("body").append(div);w1=innerDiv.offsetWidth;div.css("overflow","scroll");w2=innerDiv.offsetWidth;if(w1===w2){w2=div[0].clientWidth;}
        div.remove();return(cachedScrollbarWidth=w1-w2);},getScrollInfo:function(within){var overflowX=within.isWindow?"":within.element.css("overflow-x"),overflowY=within.isWindow?"":within.element.css("overflow-y"),hasOverflowX=overflowX==="scroll"||(overflowX==="auto"&&within.width<within.element[0].scrollWidth),hasOverflowY=overflowY==="scroll"||(overflowY==="auto"&&within.height<within.element[0].scrollHeight);return{width:hasOverflowY?$.position.scrollbarWidth():0,height:hasOverflowX?$.position.scrollbarWidth():0};},getWithinInfo:function(element){var withinElement=$(element||window),isWindow=$.isWindow(withinElement[0]);return{element:withinElement,isWindow:isWindow,offset:withinElement.offset()||{left:0,top:0},scrollLeft:withinElement.scrollLeft(),scrollTop:withinElement.scrollTop(),width:isWindow?withinElement.width():withinElement.outerWidth(),height:isWindow?withinElement.height():withinElement.outerHeight()};}};$.fn.position=function(options){if(!options||!options.of){return _position.apply(this,arguments);}
        options=$.extend({},options);var atOffset,targetWidth,targetHeight,targetOffset,basePosition,dimensions,target=$(options.of),within=$.position.getWithinInfo(options.within),scrollInfo=$.position.getScrollInfo(within),collision=(options.collision||"flip").split(" "),offsets={};dimensions=getDimensions(target);if(target[0].preventDefault){options.at="left top";}
        targetWidth=dimensions.width;targetHeight=dimensions.height;targetOffset=dimensions.offset;basePosition=$.extend({},targetOffset);$.each(["my","at"],function(){var pos=(options[this]||"").split(" "),horizontalOffset,verticalOffset;if(pos.length===1){pos=rhorizontal.test(pos[0])?pos.concat(["center"]):rvertical.test(pos[0])?["center"].concat(pos):["center","center"];}
            pos[0]=rhorizontal.test(pos[0])?pos[0]:"center";pos[1]=rvertical.test(pos[1])?pos[1]:"center";horizontalOffset=roffset.exec(pos[0]);verticalOffset=roffset.exec(pos[1]);offsets[this]=[horizontalOffset?horizontalOffset[0]:0,verticalOffset?verticalOffset[0]:0];options[this]=[rposition.exec(pos[0])[0],rposition.exec(pos[1])[0]];});if(collision.length===1){collision[1]=collision[0];}
        if(options.at[0]==="right"){basePosition.left+=targetWidth;}else if(options.at[0]==="center"){basePosition.left+=targetWidth/2;}
        if(options.at[1]==="bottom"){basePosition.top+=targetHeight;}else if(options.at[1]==="center"){basePosition.top+=targetHeight/2;}
        atOffset=getOffsets(offsets.at,targetWidth,targetHeight);basePosition.left+=atOffset[0];basePosition.top+=atOffset[1];return this.each(function(){var collisionPosition,using,elem=$(this),elemWidth=elem.outerWidth(),elemHeight=elem.outerHeight(),marginLeft=parseCss(this,"marginLeft"),marginTop=parseCss(this,"marginTop"),collisionWidth=elemWidth+marginLeft+parseCss(this,"marginRight")+scrollInfo.width,collisionHeight=elemHeight+marginTop+parseCss(this,"marginBottom")+scrollInfo.height,position=$.extend({},basePosition),myOffset=getOffsets(offsets.my,elem.outerWidth(),elem.outerHeight());if(options.my[0]==="right"){position.left-=elemWidth;}else if(options.my[0]==="center"){position.left-=elemWidth/2;}
            if(options.my[1]==="bottom"){position.top-=elemHeight;}else if(options.my[1]==="center"){position.top-=elemHeight/2;}
            position.left+=myOffset[0];position.top+=myOffset[1];if(!$.support.offsetFractions){position.left=round(position.left);position.top=round(position.top);}
            collisionPosition={marginLeft:marginLeft,marginTop:marginTop};$.each(["left","top"],function(i,dir){if($.ui.position[collision[i]]){$.ui.position[collision[i]][dir](position,{targetWidth:targetWidth,targetHeight:targetHeight,elemWidth:elemWidth,elemHeight:elemHeight,collisionPosition:collisionPosition,collisionWidth:collisionWidth,collisionHeight:collisionHeight,offset:[atOffset[0]+myOffset[0],atOffset[1]+myOffset[1]],my:options.my,at:options.at,within:within,elem:elem});}});if(options.using){using=function(props){var left=targetOffset.left-position.left,right=left+targetWidth-elemWidth,top=targetOffset.top-position.top,bottom=top+targetHeight-elemHeight,feedback={target:{element:target,left:targetOffset.left,top:targetOffset.top,width:targetWidth,height:targetHeight},element:{element:elem,left:position.left,top:position.top,width:elemWidth,height:elemHeight},horizontal:right<0?"left":left>0?"right":"center",vertical:bottom<0?"top":top>0?"bottom":"middle"};if(targetWidth<elemWidth&&abs(left+right)<targetWidth){feedback.horizontal="center";}
                if(targetHeight<elemHeight&&abs(top+bottom)<targetHeight){feedback.vertical="middle";}
                if(max(abs(left),abs(right))>max(abs(top),abs(bottom))){feedback.important="horizontal";}else{feedback.important="vertical";}
                options.using.call(this,props,feedback);};}
            elem.offset($.extend(position,{using:using}));});};$.ui.position={fit:{left:function(position,data){var within=data.within,withinOffset=within.isWindow?within.scrollLeft:within.offset.left,outerWidth=within.width,collisionPosLeft=position.left-data.collisionPosition.marginLeft,overLeft=withinOffset-collisionPosLeft,overRight=collisionPosLeft+data.collisionWidth-outerWidth-withinOffset,newOverRight;if(data.collisionWidth>outerWidth){if(overLeft>0&&overRight<=0){newOverRight=position.left+overLeft+data.collisionWidth-outerWidth-withinOffset;position.left+=overLeft-newOverRight;}else if(overRight>0&&overLeft<=0){position.left=withinOffset;}else{if(overLeft>overRight){position.left=withinOffset+outerWidth-data.collisionWidth;}else{position.left=withinOffset;}}}else if(overLeft>0){position.left+=overLeft;}else if(overRight>0){position.left-=overRight;}else{position.left=max(position.left-collisionPosLeft,position.left);}},top:function(position,data){var within=data.within,withinOffset=within.isWindow?within.scrollTop:within.offset.top,outerHeight=data.within.height,collisionPosTop=position.top-data.collisionPosition.marginTop,overTop=withinOffset-collisionPosTop,overBottom=collisionPosTop+data.collisionHeight-outerHeight-withinOffset,newOverBottom;if(data.collisionHeight>outerHeight){if(overTop>0&&overBottom<=0){newOverBottom=position.top+overTop+data.collisionHeight-outerHeight-withinOffset;position.top+=overTop-newOverBottom;}else if(overBottom>0&&overTop<=0){position.top=withinOffset;}else{if(overTop>overBottom){position.top=withinOffset+outerHeight-data.collisionHeight;}else{position.top=withinOffset;}}}else if(overTop>0){position.top+=overTop;}else if(overBottom>0){position.top-=overBottom;}else{position.top=max(position.top-collisionPosTop,position.top);}}},flip:{left:function(position,data){var within=data.within,withinOffset=within.offset.left+within.scrollLeft,outerWidth=within.width,offsetLeft=within.isWindow?within.scrollLeft:within.offset.left,collisionPosLeft=position.left-data.collisionPosition.marginLeft,overLeft=collisionPosLeft-offsetLeft,overRight=collisionPosLeft+data.collisionWidth-outerWidth-offsetLeft,myOffset=data.my[0]==="left"?-data.elemWidth:data.my[0]==="right"?data.elemWidth:0,atOffset=data.at[0]==="left"?data.targetWidth:data.at[0]==="right"?-data.targetWidth:0,offset=-2*data.offset[0],newOverRight,newOverLeft;if(overLeft<0){newOverRight=position.left+myOffset+atOffset+offset+data.collisionWidth-outerWidth-withinOffset;if(newOverRight<0||newOverRight<abs(overLeft)){position.left+=myOffset+atOffset+offset;}}
    else if(overRight>0){newOverLeft=position.left-data.collisionPosition.marginLeft+myOffset+atOffset+offset-offsetLeft;if(newOverLeft>0||abs(newOverLeft)<overRight){position.left+=myOffset+atOffset+offset;}}},top:function(position,data){var within=data.within,withinOffset=within.offset.top+within.scrollTop,outerHeight=within.height,offsetTop=within.isWindow?within.scrollTop:within.offset.top,collisionPosTop=position.top-data.collisionPosition.marginTop,overTop=collisionPosTop-offsetTop,overBottom=collisionPosTop+data.collisionHeight-outerHeight-offsetTop,top=data.my[1]==="top",myOffset=top?-data.elemHeight:data.my[1]==="bottom"?data.elemHeight:0,atOffset=data.at[1]==="top"?data.targetHeight:data.at[1]==="bottom"?-data.targetHeight:0,offset=-2*data.offset[1],newOverTop,newOverBottom;if(overTop<0){newOverBottom=position.top+myOffset+atOffset+offset+data.collisionHeight-outerHeight-withinOffset;if((position.top+myOffset+atOffset+offset)>overTop&&(newOverBottom<0||newOverBottom<abs(overTop))){position.top+=myOffset+atOffset+offset;}}
    else if(overBottom>0){newOverTop=position.top-data.collisionPosition.marginTop+myOffset+atOffset+offset-offsetTop;if((position.top+myOffset+atOffset+offset)>overBottom&&(newOverTop>0||abs(newOverTop)<overBottom)){position.top+=myOffset+atOffset+offset;}}}},flipfit:{left:function(){$.ui.position.flip.left.apply(this,arguments);$.ui.position.fit.left.apply(this,arguments);},top:function(){$.ui.position.flip.top.apply(this,arguments);$.ui.position.fit.top.apply(this,arguments);}}};(function(){var testElement,testElementParent,testElementStyle,offsetLeft,i,body=document.getElementsByTagName("body")[0],div=document.createElement("div");testElement=document.createElement(body?"div":"body");testElementStyle={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};if(body){$.extend(testElementStyle,{position:"absolute",left:"-1000px",top:"-1000px"});}
        for(i in testElementStyle){testElement.style[i]=testElementStyle[i];}
        testElement.appendChild(div);testElementParent=body||document.documentElement;testElementParent.insertBefore(testElement,testElementParent.firstChild);div.style.cssText="position: absolute; left: 10.7432222px;";offsetLeft=$(div).offset().left;$.support.offsetFractions=offsetLeft>10&&offsetLeft<11;testElement.innerHTML="";testElementParent.removeChild(testElement);})();}(jQuery));});define('jui/widget',['jquery'],function(jQuery){(function($,undefined){var uuid=0,slice=Array.prototype.slice,_cleanData=$.cleanData;$.cleanData=function(elems){for(var i=0,elem;(elem=elems[i])!=null;i++){try{$(elem).triggerHandler("remove");}catch(e){}}
    _cleanData(elems);};$.widget=function(name,base,prototype){var fullName,existingConstructor,constructor,basePrototype,proxiedPrototype={},namespace=name.split(".")[0];name=name.split(".")[1];fullName=namespace+"-"+name;if(!prototype){prototype=base;base=$.Widget;}
    $.expr[":"][fullName.toLowerCase()]=function(elem){return!!$.data(elem,fullName);};$[namespace]=$[namespace]||{};existingConstructor=$[namespace][name];constructor=$[namespace][name]=function(options,element){if(!this._createWidget){return new constructor(options,element);}
        if(arguments.length){this._createWidget(options,element);}};$.extend(constructor,existingConstructor,{version:prototype.version,_proto:$.extend({},prototype),_childConstructors:[]});basePrototype=new base();basePrototype.options=$.widget.extend({},basePrototype.options);$.each(prototype,function(prop,value){if(!$.isFunction(value)){proxiedPrototype[prop]=value;return;}
        proxiedPrototype[prop]=(function(){var _super=function(){return base.prototype[prop].apply(this,arguments);},_superApply=function(args){return base.prototype[prop].apply(this,args);};return function(){var __super=this._super,__superApply=this._superApply,returnValue;this._super=_super;this._superApply=_superApply;returnValue=value.apply(this,arguments);this._super=__super;this._superApply=__superApply;return returnValue;};})();});constructor.prototype=$.widget.extend(basePrototype,{widgetEventPrefix:existingConstructor?(basePrototype.widgetEventPrefix||name):name},proxiedPrototype,{constructor:constructor,namespace:namespace,widgetName:name,widgetFullName:fullName});if(existingConstructor){$.each(existingConstructor._childConstructors,function(i,child){var childPrototype=child.prototype;$.widget(childPrototype.namespace+"."+childPrototype.widgetName,constructor,child._proto);});delete existingConstructor._childConstructors;}else{base._childConstructors.push(constructor);}
    $.widget.bridge(name,constructor);return constructor;};$.widget.extend=function(target){var input=slice.call(arguments,1),inputIndex=0,inputLength=input.length,key,value;for(;inputIndex<inputLength;inputIndex++){for(key in input[inputIndex]){value=input[inputIndex][key];if(input[inputIndex].hasOwnProperty(key)&&value!==undefined){if($.isPlainObject(value)){target[key]=$.isPlainObject(target[key])?$.widget.extend({},target[key],value):$.widget.extend({},value);}else{target[key]=value;}}}}
    return target;};$.widget.bridge=function(name,object){var fullName=object.prototype.widgetFullName||name;$.fn[name]=function(options){var isMethodCall=typeof options==="string",args=slice.call(arguments,1),returnValue=this;options=!isMethodCall&&args.length?$.widget.extend.apply(null,[options].concat(args)):options;if(isMethodCall){this.each(function(){var methodValue,instance=$.data(this,fullName);if(options==="instance"){returnValue=instance;return false;}
    if(!instance){return $.error("cannot call methods on "+name+" prior to initialization; "+"attempted to call method '"+options+"'");}
    if(!$.isFunction(instance[options])||options.charAt(0)==="_"){return $.error("no such method '"+options+"' for "+name+" widget instance");}
    methodValue=instance[options].apply(instance,args);if(methodValue!==instance&&methodValue!==undefined){returnValue=methodValue&&methodValue.jquery?returnValue.pushStack(methodValue.get()):methodValue;return false;}});}else{this.each(function(){var instance=$.data(this,fullName);if(instance){instance.option(options||{})._init();}else{$.data(this,fullName,new object(options,this));}});}
    return returnValue;};};$.Widget=function(){};$.Widget._childConstructors=[];$.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:false,create:null},_createWidget:function(options,element){element=$(element||this.defaultElement||this)[0];this.element=$(element);this.uuid=uuid++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=$.widget.extend({},this.options,this._getCreateOptions(),options);this.bindings=$();this.hoverable=$();this.focusable=$();if(element!==this){$.data(element,this.widgetFullName,this);this._on(true,this.element,{remove:function(event){if(event.target===element){this.destroy();}}});this.document=$(element.style?element.ownerDocument:element.document||element);this.window=$(this.document[0].defaultView||this.document[0].parentWindow);}
    this._create();this._trigger("create",null,this._getCreateEventData());this._init();},_getCreateOptions:$.noop,_getCreateEventData:$.noop,_create:$.noop,_init:$.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData($.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus");},_destroy:$.noop,widget:function(){return this.element;},option:function(key,value){var options=key,parts,curOption,i;if(arguments.length===0){return $.widget.extend({},this.options);}
    if(typeof key==="string"){options={};parts=key.split(".");key=parts.shift();if(parts.length){curOption=options[key]=$.widget.extend({},this.options[key]);for(i=0;i<parts.length-1;i++){curOption[parts[i]]=curOption[parts[i]]||{};curOption=curOption[parts[i]];}
        key=parts.pop();if(value===undefined){return curOption[key]===undefined?null:curOption[key];}
        curOption[key]=value;}else{if(value===undefined){return this.options[key]===undefined?null:this.options[key];}
        options[key]=value;}}
    this._setOptions(options);return this;},_setOptions:function(options){var key;for(key in options){this._setOption(key,options[key]);}
    return this;},_setOption:function(key,value){this.options[key]=value;if(key==="disabled"){this.widget().toggleClass(this.widgetFullName+"-disabled",!!value);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus");}
    return this;},enable:function(){return this._setOptions({disabled:false});},disable:function(){return this._setOptions({disabled:true});},_on:function(suppressDisabledCheck,element,handlers){var delegateElement,instance=this;if(typeof suppressDisabledCheck!=="boolean"){handlers=element;element=suppressDisabledCheck;suppressDisabledCheck=false;}
    if(!handlers){handlers=element;element=this.element;delegateElement=this.widget();}else{element=delegateElement=$(element);this.bindings=this.bindings.add(element);}
    $.each(handlers,function(event,handler){function handlerProxy(){if(!suppressDisabledCheck&&(instance.options.disabled===true||$(this).hasClass("ui-state-disabled"))){return;}
        return(typeof handler==="string"?instance[handler]:handler).apply(instance,arguments);}
        if(typeof handler!=="string"){handlerProxy.guid=handler.guid=handler.guid||handlerProxy.guid||$.guid++;}
        var match=event.match(/^(\w+)\s*(.*)$/),eventName=match[1]+instance.eventNamespace,selector=match[2];if(selector){delegateElement.delegate(selector,eventName,handlerProxy);}else{element.bind(eventName,handlerProxy);}});},_off:function(element,eventName){eventName=(eventName||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;element.unbind(eventName).undelegate(eventName);},_delay:function(handler,delay){function handlerProxy(){return(typeof handler==="string"?instance[handler]:handler).apply(instance,arguments);}
    var instance=this;return setTimeout(handlerProxy,delay||0);},_hoverable:function(element){this.hoverable=this.hoverable.add(element);this._on(element,{mouseenter:function(event){$(event.currentTarget).addClass("ui-state-hover");},mouseleave:function(event){$(event.currentTarget).removeClass("ui-state-hover");}});},_focusable:function(element){this.focusable=this.focusable.add(element);this._on(element,{focusin:function(event){$(event.currentTarget).addClass("ui-state-focus");},focusout:function(event){$(event.currentTarget).removeClass("ui-state-focus");}});},_trigger:function(type,event,data){var prop,orig,callback=this.options[type];data=data||{};event=$.Event(event);event.type=(type===this.widgetEventPrefix?type:this.widgetEventPrefix+type).toLowerCase();event.target=this.element[0];orig=event.originalEvent;if(orig){for(prop in orig){if(!(prop in event)){event[prop]=orig[prop];}}}
    this.element.trigger(event,data);return!($.isFunction(callback)&&callback.apply(this.element[0],[event].concat(data))===false||event.isDefaultPrevented());}};$.each({show:"fadeIn",hide:"fadeOut"},function(method,defaultEffect){$.Widget.prototype["_"+method]=function(element,options,callback){if(typeof options==="string"){options={effect:options};}
    var hasOptions,effectName=!options?method:options===true||typeof options==="number"?defaultEffect:options.effect||defaultEffect;options=options||{};if(typeof options==="number"){options={duration:options};}
    hasOptions=!$.isEmptyObject(options);options.complete=callback;if(options.delay){element.delay(options.delay);}
    if(hasOptions&&$.effects&&$.effects.effect[effectName]){element[method](options);}else if(effectName!==method&&element[effectName]){element[effectName](options.duration,options.easing,callback);}else{element.queue(function(next){$(this)[method]();if(callback){callback.call(element[0]);}
        next();});}};});})(jQuery);});define('jui/others/notify',['jquery','../widget'],function(jQuery){(function($){$.widget("ech.notify",{options:{speed:500,expires:5000,stack:"below",custom:false,queue:false},_create:function(){var self=this;this.templates={};this.keys=[];this.element.addClass("ui-notify").children().addClass("ui-notify-message ui-notify-message-style").each(function(i){var key=this.id||i;self.keys.push(key);self.templates[key]=$(this).removeAttr("id").wrap("<div></div>").parent().html();}).end().empty().show();},create:function(template,msg,opts){if(typeof template==="object"){opts=msg;msg=template;template=null;}
    var tpl=opts.template||this.templates[template||this.keys[0]];if(opts&&opts.custom){tpl=$(tpl).removeClass("ui-notify-message-style").wrap("<div></div>").parent().html();}
    this.openNotifications=this.openNotifications||0;return new $.ech.notify.instance(this)._create(msg,$.extend({},this.options,opts),tpl);}});$.extend($.ech.notify,{instance:function(widget){this.__super=widget;this.isOpen=false;}});$.extend($.ech.notify.instance.prototype,{_create:function(params,options,template){this.options=options;var self=this,html=template.replace(/#(?:\{|%7B)(.*?)(?:\}|%7D)/g,function($1,$2){return($2 in params)?params[$2]:'';}),m=(this.element=$(html)),closelink=m.find(".ui-notify-close");if(typeof this.options.click==="function"){m.addClass("ui-notify-click").bind("click",function(e){self._trigger("click",e,self);});}
    if(closelink.length){closelink.bind("click",function(){self.close();return false;});}
    this.__super.element.queue("notify",function(){self.open();if(typeof options.expires==="number"&&options.expires>0){setTimeout($.proxy(self.close,self),options.expires);}});if(!this.options.queue||this.__super.openNotifications<=this.options.queue-1){this.__super.element.dequeue("notify");}
    return this;},close:function(){var speed=this.options.speed;this.element.fadeTo(speed,0).slideUp(speed,$.proxy(function(){this._trigger("close");this.isOpen=false;this.element.remove();this.__super.openNotifications-=1;this.__super.element.dequeue("notify");},this));return this;},open:function(){if(this.isOpen||this._trigger("beforeopen")===false){return this;}
    var self=this;this.__super.openNotifications+=1;this.element[this.options.stack==="above"?"prependTo":"appendTo"](this.__super.element).css({display:"none",opacity:""}).fadeIn(this.options.speed,function(){self._trigger("open");self.isOpen=true;});return this;},widget:function(){return this.element;},_trigger:function(type,e,instance){return this.__super._trigger.call(this,type,e,instance);}});})(jQuery);});define('modules/notice',['jquery','jui/position','jui/others/notify'],function($){var instList=[],iconClass={succ:'ui-notify-ico-success',warn:'ui-notify-ico-warn',error:'ui-notify-ico-error',confirm:'ui-notify-ico-confirm',loading:'ui-notify-ico-loading',none:'ui-notify-ico-none'},cfmClass='ui-notify-confirm';function _getTpl(id,opts){var cfmBtns=[],tpl;if(opts.buttons&&opts.buttons.length>0){$.each(opts.buttons,function(k,v){cfmBtns.push(_getBtnTpl(v,opts.buttons.length===1));});}
    tpl=['<div class="ui-notify-message ui-notify-message-style ',opts.icon=='confirm'?cfmClass:'','" id="',id,'">',!!opts.xBtn?'<a class="ui-notify-close ui-notify-cross" href="javascript:void(0)">×</a>':'','<div class="ui-notify-content">','<h1><i class="ui-notify-ico ',(iconClass[opts.icon]||''),'"></i>#{message}</h1>',opts.text?'<p>#{text}</p>':'','</div>',cfmBtns.length>0?'<div class="ui-notify-button">'+cfmBtns.join('')+'</div>':'','</div>',].join('');return tpl;}
    function _getBtnTpl(data,isOnlyOne){var cn='_js_cfmBtn',btnTpl='<a href="javascript:void(0)" class="#{class}"'+(isOnlyOne?' style="width:100%;"':'')+'>#{text}</a>',tpl;data=data||{};if(!!data.type){cn=cn+' ui-notify-button-'+data.type;}
        tpl=btnTpl.replace(/#\{text\}/,data.text||'').replace(/#\{class\}/,cn);return tpl;}
    function _showModal(z,opts){var m,c,body=document.body;opts=opts||{};z=z||999;c={width:$(document).width(),height:$(document).height(),position:'absolute',background:'#000',left:0,top:0,zIndex:z,opacity:0.2};$.extend(c,opts.css);m=$('<div></div>').appendTo(body).css(c);return m;}
    function show(content,opt){var opts=opt||{},setting={icon:'warn',xBtn:false},params={speed:200,stack:'above',expires:2000,custom:false},box=$('#_js_noticebox'),body=document.body,nid,inst,tpl,cont,cs,_t,_modal,_w;opts.icon&&(setting.icon=opts.icon);opts.xBtn&&(setting.xBtn=opts.xBtn);opts.buttons&&(setting.buttons=opts.buttons);opts.text&&(setting.text=opts.text);if(opts.expires!==undefined){params.expires=opts.expires;}
        if(opts.modal===true){_modal=_showModal();_t=params.close;params.close=function(){$(_modal).remove();_t&&_t.apply(null,arguments);}}
        $.extend(params,opts.params);nid='notice_'+instList.length;tpl=_getTpl(nid,setting);cs=opts.css||{zIndex:1000,position:'fixed'};_w=opts.wrapperWith||'298px';cs.minWidth='';cs.width=_w;cont=(box.length>0&&box)||$('<div id="_js_noticebox"></div>').hide().appendTo(opts.container||body);cont.css(cs);inst=cont.notify();params.template=tpl;inst=cont.notify('create',nid,{text:opts.text||opts.title,message:content},params);cont.position(opts.wrapperPosition||{my:'center center-50',at:'center center',of:(opts.container||window)}).show();instList.push(inst);return inst;}
    function confirm(content,opt){var buttons=[{text:'确认',type:'yes',click:opt.onConfirm||function(){}},{text:'取消'}],cfm;opt=opt||{};opt.icon=opt.icon||'confirm';opt.expires=false;opt.xBtn=typeof opt.xBtn!='undefined'?opt.xBtn:true;opt.wrapperWith=opt.width||'298px';if(typeof opt.wrapperWith=='number'){opt.wrapperWith=opt.wrapperWith+'px'}
        if(!opt.buttons){opt.buttons=buttons;}
        opt.modal=true;cfm=show(content,opt);cfm.element.find('a._js_cfmBtn').each(function(k,v){var b=opt.buttons[k],h=b&&b.click;$(this).click(function(evt){if($.type(h)==='function'){h(evt);}else{close(cfm);}});});return cfm;}
    function close(inst){if(inst&&inst.close){inst.close();}else if(instList.length>0){instList.pop().close();}}
    function closeAll(){$.each(instList,function(k,v){close(v);});}
    return{confirm:confirm,show:show,close:close,closeAll:closeAll}});define('modules/dialog',['jquery'],function($){function Dialog(elem,params){var _self=this;this.elem=elem;this.params=params;require(['jui/dialog'],function(){elem.dialog(params);});}
    $.extend(Dialog.prototype,{dialog:function(){var elem=this.elem;if($.type(elem.dialog)==='function'){return elem.dialog.apply(elem,arguments);}else{throw('dialog.js尚未异步加载完成，无法立即调用对应的方法');}}});function _init(content,opts){var elem,setting,inst;setting={resizable:false,closeOnEscape:false,closeText:'关闭'};if($.type(content)==='string'){elem=$('<div>'+content+'</div>');}else{elem=$(content);}
        $.extend(setting,opts||{});inst=new Dialog(elem,setting);return inst;}
    return _init;});define('modules/datepicker',['jquery'],function($){var deps=['jui/datepicker'];function Datepicker(elem,opts){this.elem=elem;this.params=opts;require(deps,function(){elem.datepicker(opts);});}
    $.extend(Datepicker.prototype,{datepicker:function(){var elem=this.elem,args=arguments||[],fstOpt=args[0],scdOpt=args[1],lastOpt=args[args.length-1],fnOpt=$.type(lastOpt)=='function',isOption=fstOpt==='option',callback,ret;if((isOption&&!(scdOpt&&scdOpt.match(/^on[A-Z].+/))&&fnOpt)||(!isOption&&fnOpt)){callback=Array.prototype.pop.call(args);}
        if($.type(elem.datepicker)==='function'){ret=elem.datepicker.apply(elem,args);if(callback){ret=callback(ret);}
            return ret;}else{require(deps,function(){var ret=elem.datepicker.apply(elem,args);if(callback){ret=callback(ret);}});}}});function _init(elem,opts){var inst;inst=new Datepicker($(elem),opts);return inst;}
    return _init;});define('modules/placeholder',['jquery'],function($){return function(selector,className){$(selector).each(function(k,v){var ele=$(v),placeholder=ele.attr('placeholder'),tagName=v.tagName.toUpperCase();if('INPUTTEXTAREA'.indexOf(tagName)>-1&&!!('placeholder'in document.createElement('input'))){return;}else if($.trim(ele.val())===''){ele.val(placeholder);}
    ele.focus(function(){var val=$.trim(ele.val());if(val===placeholder){v.value='';ele.removeClass(className||'input-hint');}}).blur(function(){var val=$.trim(ele.val());if(val===''){v.value=placeholder;ele.addClass(className||'input-hint');}});});}});define('modules/coderept',['jquery'],function($){function _codeRept(params,opts){/*var purl=['http://c.isdspeed.qq.com/code.cgi?domain=',((opts&&opts.domain)||'e.qq.com'),'&key=cgi,type,code,time,rate'].join(''),ps=[],t=$.type(params);var getRequest=function(url){var theRequest={},questionIndexOf=url.indexOf('?');if(questionIndexOf>-1){var str=url.substr(questionIndexOf+1);strs=str.split("&");for(var i=0;i<strs.length;i++){theRequest[strs[i].split("=")[0]]=(strs[i].split("=")[1]);}}
    return theRequest;};var removeCgiRequest=function(cgi,key){var cgi=cgi||'',key=key||'',request=getRequest(cgi);if(cgi&&key&&request[key]){if(cgi.indexOf('?'+key)>-1){cgi=cgi.replace(key+'='+request[key]+'&','');}else if(cgi.indexOf('&'+key)>-1){cgi=cgi.replace('&'+key+'='+request[key],'');}}
    return cgi;}
    if(t=='array'){$.each(params,function(k,v){ps.push(genstr(k,v));});ps.join('&');}else if(t=='object'){ps=genstr(1,params);}
    function genstr(k,data){var data=data||{};data.cgi=removeCgiRequest(data.cgi,'owner');return[k+'_1='+encodeURIComponent(data.cgi),k+'_2='+data.type,k+'_3='+data.code,k+'_4='+data.time,k+'_5='+data.rate].join('&');}
    (new Image()).src=purl+'&'+ps;*/}
    return _codeRept;});define('modules/io',['jquery','modules/coderept'],function($,codeRept){function done(data,textStatus,jqXHR){}
    function fail(data,textStatus,jqXHR){}
    function always(data,textStatus,jqXHR,conf){var rptcfg=(conf&&conf.report);if(rptcfg&&rptcfg.cgi&&!rptcfg.noreport===true){retReport.apply(null,arguments);}}
    function retReport(data,textStatus,jqXHR,conf){var param={},rj=jqXHR&&jqXHR.responseJSON,rptcfg=(conf&&conf.report)||{},endTime=+new Date();param.cgi=rptcfg.cgi||conf.url;if(!rj){param.type=2;param.code=21;}else{param.type=rj.ret===0?1:3;param.code=rj.ret===0?11:31;}
        if(data&&data._rptcode){param.code=data._rptcode;}
        param.time=endTime-conf._startTime||-1;param.rate=rptcfg.rate||1;codeRept(param);}
    function _request(conf,opts){var setting={dataType:'json',data:{}},rqst;$.extend(conf,setting);$.extend(true,conf,opts);conf._startTime=+new Date();rqst=$.ajax(conf).done(done).fail(fail).always(function(){var args=Array.prototype.slice.call(arguments,0);args.push(conf);always.apply(null,args);});return rqst;}
    return{get:function(opts){var conf={type:'GET',timeout:30*1000};return _request(conf,opts);},post:function(opts){var conf={type:'POST',timeout:20*1000};return _request(conf,opts);}}});define('modules/validator',['jquery'],function($){var conf={text:function(value,min,max){var len=$.trim(value).length;return(len>=min&&len<=max)?true:false;},character:function(value,min,max){min=typeof min!=='undefined'?min:1;var regx=new RegExp('^[\\w\\-\\(\\)\\u4E00-\\u9FFF]{'+min+','+max+'}$');return regx.test(value);},limitText:function(value,min,max){var v=false,val=$.trim(value),len=val.length,regx=new RegExp('[\<\>\&\'\"\/\x09\x0A\x0D\\\\]+');min=typeof min!=='undefined'?min:1;if(!regx.test(value)){v=(len>=min&&len<=max);};return v;},uin:function(value){return/^\d{5,11}$/.test(value);},number:function(value,min,max){var num=Number(value);if(isNaN(num)){return false;}
    return(num>=min&&num<=max)?true:false;},mail:function(value){var regExp=/\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*/,val=$.trim(value);return regExp.test(val)?true:false;},phone:function(value){var regExpPhone=/^(0[0-9]{2,3}(\-)?)?([2-9][0-9]{6,7})(\-[0-9]{1,4})?$/,regExpMobile=/^1\d{10}$/,val=$.trim(value);return(regExpPhone.test(val)||regExpMobile.test(val))?true:false;},mobile:function(value){var regExp=/^1\d{10}$/,val=$.trim(value);return regExp.test(val)?true:false;},select:function(value){return value?true:false;},url:function(value){var regExp=/^(?:ht|f)tp(?:s)?\:\/\/(?:[\w\-\.]+)\.\w{2,4}(?:\/|$)/i,val=$.trim(value);return regExp.test(val)?true:false;},qqurl:function(value){var regExp=/^https?\:\/\/[\w\-\.]+\.qq\.com(?:\/|$)/i,val=$.trim(value);return regExp.test(val)?true:false;},post:function(value){var regExp=/^\d{6}$/,val=$.trim(value);return regExp.test(val)?true:false;},checkbox:function(name,min,max){min=typeof(min)=='undefined'?1:min;var els=$('input[name='+name+']'),i=els.length,cnt=0,flag;while(i--){els[i].checked&&(cnt++);}
    flag=(cnt>=min);if(max){flag=(flag)&&(cnt<=max);}
    return flag?true:false;},'location':function(value){return(parseInt(value,10)>0)?true:false;},interest:function(value){return(parseInt(value,10)>0)?true:false;},regExp:function(value,regExp){return regExp.test(value);},execFn:function(value,fn){return fn(value);}}
    return conf;});define('modules/log',['require'],function(require){var noop=function(){},fn,fname;var methods=['assert','clear','count','debug','dir','dirxml','error','exception','group','groupCollapsed','groupEnd','info','log','markTimeline','profile','profileEnd','table','time','timeEnd','timeStamp','trace','warn'],methmap={};var length=methods.length;var console=window.console||{};while(length--){fname=methods[length];fn=console[fname];console[fname]=fn||noop;(!console[fname].apply&&Function.prototype.bind)&&(console[fname]=Function.prototype.bind.call(fn,console));methmap[methods[length]]=1;}
    function log(){var logFlag=localStorage&&localStorage.getItem('_showDebuggerLog');if(!logFlag||(logFlag==='0')){return;}
        var args=Array.prototype.slice.call(arguments),type,len=args.length,meth,fn;type=args[len-1];if(methmap[type]){meth=type;args.splice(len-1,1);}else{meth='log';}
        fn=console[meth];fn.apply&&fn.apply(console,args);};return log;});define('modules/dateformat',['require','exports','module'],function(require,exports,module){var dateFormat=function(){var token=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|"[^"]*"|'[^']*'/g,timezone=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,timezoneClip=/[^-+\dA-Z]/g,pad=function(val,len){val=String(val);len=len||2;while(val.length<len)val="0"+val;return val;},getWeek=function(date){var targetThursday=new Date(date.getFullYear(),date.getMonth(),date.getDate());targetThursday.setDate(targetThursday.getDate()-((targetThursday.getDay()+6)%7)+3);var firstThursday=new Date(targetThursday.getFullYear(),0,4);firstThursday.setDate(firstThursday.getDate()-((firstThursday.getDay()+6)%7)+3);var ds=targetThursday.getTimezoneOffset()-firstThursday.getTimezoneOffset();targetThursday.setHours(targetThursday.getHours()-ds);var weekDiff=(targetThursday-firstThursday)/(86400000*7);return 1+Math.floor(weekDiff);},getDayOfWeek=function(date){var dow=date.getDay();if(dow===0)dow=7;return dow;};return function(date,mask,utc,gmt){var dF=dateFormat;if(arguments.length==1&&Object.prototype.toString.call(date)=="[object String]"&&!/\d/.test(date)){mask=date;date=undefined;}
    date=date||new Date;if(!(date instanceof Date)){date=new Date(date);}
    if(isNaN(date)){throw TypeError("Invalid date");}
    mask=String(dF.masks[mask]||mask||dF.masks["default"]);var maskSlice=mask.slice(0,4);if(maskSlice=="UTC:"||maskSlice=="GMT:"){mask=mask.slice(4);utc=true;if(maskSlice=="GMT:"){gmt=true;}}
    var _=utc?"getUTC":"get",d=date[_+"Date"](),D=date[_+"Day"](),m=date[_+"Month"](),y=date[_+"FullYear"](),H=date[_+"Hours"](),M=date[_+"Minutes"](),s=date[_+"Seconds"](),L=date[_+"Milliseconds"](),o=utc?0:date.getTimezoneOffset(),W=getWeek(date),N=getDayOfWeek(date),flags={d:d,dd:pad(d),ddd:dF.i18n.dayNames[D],dddd:dF.i18n.dayNames[D+7],m:m+1,mm:pad(m+1),mmm:dF.i18n.monthNames[m],mmmm:dF.i18n.monthNames[m+12],yy:String(y).slice(2),yyyy:y,h:H%12||12,hh:pad(H%12||12),H:H,HH:pad(H),M:M,MM:pad(M),s:s,ss:pad(s),l:pad(L,3),L:pad(L>99?Math.round(L/10):L),t:H<12?"a":"p",tt:H<12?"am":"pm",T:H<12?"A":"P",TT:H<12?"AM":"PM",Z:gmt?"GMT":utc?"UTC":(String(date).match(timezone)||[""]).pop().replace(timezoneClip,""),o:(o>0?"-":"+")+pad(Math.floor(Math.abs(o)/60)*100+Math.abs(o)%60,4),S:["th","st","nd","rd"][d%10>3?0:(d%100-d%10!=10)*d%10],W:W,N:N};return mask.replace(token,function($0){return $0 in flags?flags[$0]:$0.slice(1,$0.length-1);});};}();dateFormat.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"};dateFormat.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]};if(typeof exports!=="undefined"){module.exports=dateFormat;}});define('modules/crontab',['jquery'],function($){var QBL={};QBL.fnQueue=function(context){this.queue=[];this.context=context||null;};QBL.fnQueue.prototype={exec:function(){var item;for(var i=0,len=this.queue.length;i<len;i++){item=this.queue[i];item.length>1?item[0].apply(this.context,item[1]):item[0].apply(this.context);}},execOnce:function(){this.exec();this.queue=[];},add:function(fn,args){typeof fn==='function'&&this.queue.push(args?[fn,args]:[fn]);return this.queue.length-1;},insert:function(fn,args){typeof fn==='function'&&this.queue.unshift(args?[fn,args]:[fn]);return 0;},get:function(index){return index<=this.queue.length?this.queue[index]:null;}};var exports={_list:{},add:function(callback,timeout){var tasks=exports._list;timeout+='';!(timeout in tasks)&&(tasks[timeout]=new QBL.fnQueue());tasks[timeout].add(callback);},exec:function(){var tasks=exports._list;for(var x in tasks){x=parseInt(x,10);x>=0&&setTimeout(function(){tasks[x].execOnce();},x);}}};return exports;});define('modules/storage',['jquery','modules/crontab'],function($,crontab){var localHandler={},storage,QBL={};QBL.escString=function(str){var m={'\\\\':/\\/g,'\\/':/\//g,'\\n':/\n/g,'':/\r/g,'\\t':/\t/g,'\\\'':/\x27/g,'\\"':/\x22/g};str=str.toString();for(var x in m){str=str.replace(m[x],x);}
    return str;};QBL.stringify=function(obj){var t,sw;if(typeof(obj)=='object'){if(obj===null){return'null';}
    if(window.JSON&&window.JSON.stringify){return JSON.stringify(obj);}
    sw=QBL.isArray(obj);t=[];for(var i in obj){t.push((sw?"":("\""+QBL.escString(i)+"\":"))+QBL.stringify(obj[i]));}
    t=t.join();return sw?("["+t+"]"):("{"+t+"}");}else if(typeof(obj)=='undefined'){return'undefined';}else if(typeof(obj)=='number'||typeof(obj)=='function'){return obj.toString();}
    return!obj?"\"\"":("\""+QBL.escString(obj)+"\"");};QBL.parseJSON=function(data){if(typeof data!=="string"||!data){return null;}
    var rvalidchars=/^[\],:{}\s]*$/,rvalidescape=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rvalidtokens=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rvalidbraces=/(?:^|:|,)(?:\s*\[)+/g,rbrace=/^(?:\{.*\}|\[.*\])$/;data=data.replace(/^\s+|\s+$/g,'');if(rbrace.test(data)){data=(data+'').replace(/^\s+|\s+$/g,'');if(window.JSON&&window.JSON.parse){return window.JSON.parse(data);}
        if(rvalidchars.test(data.replace(rvalidescape,"@").replace(rvalidtokens,"]").replace(rvalidbraces,""))){return(new Function("return "+data))();}}else{return data;}};(function(ql){var store=null,engine=null,searchOrder,engines;searchOrder=['localStorage','userData'];engines={localStorage:{test:function(){return!!window.localStorage;},init:function(){store=window.localStorage;},getItem:function(key){return QBL.parseJSON(store.getItem(key));},setItem:function(key,value){typeof value==='object'&&(value=QBL.stringify(value));return store.setItem(key,value);},removeItem:function(key){return store.removeItem(key);}},userData:{test:function(){return window.ActiveXObject?true:false;},init:function(){store=document.documentElement;store.addBehavior('#default#userdata');},getItem:function(key){store.load(key);return QBL.parseJSON(store.getAttribute(key));},setItem:function(key,value){typeof value==='object'&&(value=QBL.stringify(value));store.load(key);store.setAttribute(key,value);return store.save(key);},removeItem:function(key){store.load(key);store.expires=new Date(315532799000).toUTCString();return store.save(key);}}};for(var i=0,l=searchOrder.length,engine;i<l;i++){engine=engines[searchOrder[i]];try{if(engine.test()){engine.init();break;}}catch(ex){engine=null;}}
    ql.set=function(key,value){try{return engine.setItem(key,value);}catch(ex){return false;}};ql.get=function(key){try{return engine.getItem(key);}catch(ex){return null;}};ql.remove=function(key){try{return engine.removeItem(key);}catch(ex){return false;}};})(localHandler={});(function(qs){var SMEDIA,_config={_expire:300000},_isExpired,_allKeys='_QBL_stored_keys_';SMEDIA={memory:(function(){var _datapool={},_md;parent!==window&&(typeof parent.QBL_datastorage==='undefined'&&(parent.QBL_datastorage={}),_datapool=parent.QBL_datastorage);return{set:function(key,val){_datapool[key]=QBL.copydata(val);},get:function(key){return key in _datapool?QBL.copydata(_datapool[key]):null;},remove:function(key){_datapool[key]=null;delete _datapool[key];}}})(),local:{set:function(key,val){localHandler.set(key,val);},get:function(key){return localHandler.get(key);},remove:function(key){localHandler.remove(key);}}};_isExpired=function(data){return data._expire>0&&((new Date).getTime()-data._time>data._expire)?true:false;};qs.get=function(key,media){var sdata;media&&(sdata=SMEDIA[media].get(key));if(sdata){if(!_isExpired(sdata)){return sdata.data;}else{qs.del(key,media);return false;}}else{return false;}};qs.set=function(key,data,cfg){var sdata,skeys;typeof cfg==='undefined'&&(cfg={});cfg.media==='undefined'&&(cfg.media='parent');sdata={data:data,_time:(new Date).getTime(),_expire:cfg.expire||_config._expire};cfg.media=='local'&&key!=_allKeys&&(skeys=qs.get(_allKeys,'local')||{},skeys[key]=1,qs.set(_allKeys,skeys,{media:'local',expire:-1}));return SMEDIA[cfg.media].set(key,sdata);};qs.del=function(key,media){var sdata,skeys,rt=true;typeof media==='string'?(sdata=SMEDIA[media].get(key)):(media='memory',sdata=SMEDIA[media].get(key))||(media='local',sdata=SMEDIA[media].get(key));if(sdata){rt=SMEDIA[media].remove(key);media=='local'&&(skeys=qs.get(_allKeys,'local')||{});skeys&&(key in skeys)&&(skeys[key]=null,delete skeys[key],qs.set(_allKeys,skeys,{media:'local',expire:-1}));}
    return rt;};qs.purge=function(){var skeys=qs.get(_allKeys,'local');for(var k in skeys){qs.get(k,'local');}};if(typeof localStorage==='object'&&'remainingSpace'in localStorage){localStorage.remainingSpace<1000000&&setTimeout(storage.purge,0);}else{crontab.add(storage.purge,20000);}})(storage={});return{get:storage.get,set:storage.set,del:storage.del,purge:storage.purge};});define('modules/stat',['jquery'],function($){var QBL={};(function(M){var instance={_pool:{},get:function(iname,type){typeof iname==='undefined'&&(iname=this[type+'current']);return this._pool[type+iname];},set:function(ist,iname,type){typeof iname==='undefined'&&(iname=this[type+'current']);this._pool[type+iname]=ist;return this[type+'current']=iname;},destroy:function(iname,type){iname=!iname&&type==='page-'?this[type+'current']:(iname||'');iname=type+iname;if(iname in this._pool){this._pool[iname]=null;delete this._pool[iname];}}},reporter,sendRunning=false,sendData=[],sendDelay=1000,sendTimer=null,sendCurrentCount=0,sendMaxCount=10;reporter={init:function(){return window.TCISD;},send:function(callback,args){var cmp=this.init();if(!cmp){$.getScript('http://i.gtimg.cn/ac/qzfl/stat.js',function(){(reporter.init())[callback].apply(null,args);},{charset:'utf-8'});return;}else{return cmp[callback].apply(null,args);}},batchSender:function(){var params=[],rate,item,i,img;sendCurrentCount++;if(sendCurrentCount>=sendMaxCount&&!sendData.length){clearTimeout(sendTimer);sendRunning=false;sendCurrentCount/=2;sendDelay=1000;return;}
    if(sendData.length){params.push('key='+'domain,cgi,type,code,time,rate');i=0;while(sendData.length){if(params.join('&').length>1000){break;}
        item=sendData.shift();rate=item[5]||1;if(Math.random()>1/rate){continue;}
        i++;params.push(i+'_1='+item[0]);params.push(i+'_2='+item[1]);params.push(i+'_3='+item[2]);params.push(i+'_4='+item[3]);params.push(i+'_5='+item[4]);params.push(i+'_6='+item[5]);}
        if(i>0){params.push('r='+Math.random());img=new Image();img.src='http://c.isdspeed.qq.com/code.cgi?'+params.join('&');}}
    sendTimer=setTimeout(reporter.batchSender,sendDelay);sendDelay*=1.1;},valueStat:function(ist,issuccess,code,exts){var domain,type,time,rate,path='',mat,mod,act,ver,cgi,id;rate=exts.reportRate||1;time=exts.duration;cgi=ist.cgi;id=ist.ozid;!cgi&&(cgi='http://e.qq.com/unknow');mat=cgi.match(/^https?\:\/\/([^\/]+)($|\/[^\?\#]*)/i);mat?(domain=mat[1],path=mat[2]):(domain='e.qq.com',path='/NOHOST/'+cgi);if(cgi.indexOf('.php?')>-1){mod=cgi.match(/(?:\?|&)mod=([^&]+|$)/i);act=cgi.match(/(?:\?|&)act=([^&]+|$)/i);ver=cgi.match(/(?:\?|&)ver=([^&]+|$)/i);cgi=[];cgi.push(mod?mod[1]:'MOD');cgi.push(act?act[1]:'ACT');ver&&cgi.push(ver);cgi=path+'?'+cgi.join('_');}else{cgi=mat?path:(domain+path);}
    cgi=encodeURIComponent(cgi);type=issuccess;sendData.push([domain,cgi,type,code,time,rate]);if(!sendRunning){sendRunning=true;setTimeout(reporter.batchSender,sendDelay);}},createTimeStat:function(){var ist=this.send('createTimeStat',arguments),_m=this;if(!ist){ist={mark:function(){_m.send('mark',arguments);},report:function(){_m.send('report',arguments);},setZero:function(){_m.send('setZero',arguments);}};}
    return ist;},pv:function(){this.send('pv',arguments);},hotClick:function(){this.send('hotClick',arguments);},stringStat:function(){this.send('stringStat',arguments);}};M.monitorCgi={create:function(rname,cgi,conf){var ist;conf=conf||{};if(!isNaN(cgi)){conf.ozid=cgi;cgi='http://e.qq.com/'+(rname||('OLD/'+cgi));}
    conf.timeout=conf.timeout||10000;ist={starttime:new Date,cgi:cgi};conf.ozid&&(ist.ozid=conf.ozid);if(conf.timeout>0){ist.timeout=conf.timeout;conf.timeout=null;delete conf.timeout;ist.timer=setTimeout(function(){conf.duration=ist.timeout;M.monitorCgi.report(3,2,conf);},ist.timeout);}
    ist.conf=conf;instance.set(ist,rname,'cgi-');return ist;},mark:function(rname){var ist=instance.get(rname,'cgi-');ist&&(ist.endtime=new Date);},report:function(code,issuccess,rname){var ist=instance.get(rname,'cgi-'),conf;if(ist){ist.timeout>0&&clearTimeout(ist.timer);!ist.endtime&&(ist.endtime=new Date);conf=ist.conf||{reportRate:1};issuccess=typeof issuccess==='undefined'?1:(issuccess?1:2);reporter.valueStat(ist,issuccess,code,{reportRate:conf.reportRate,duration:conf.duration||(ist.endtime-ist.starttime)});instance.destroy(rname,'cgi-');}}};M.monitorPage={create:function(sname){var ist=reporter.createTimeStat.apply(reporter,arguments),pagetime=window._PAGE_TIME;if(typeof pagetime!=='undefined'){ist.setZero(pagetime[0]);pagetime.length>1&&ist.mark(1,pagetime[1]);}
    instance.set(ist,sname,'page-');return ist;},mark:function(seq,sname,time){var ist=instance.get(sname,'page-');ist&&ist.mark.call(ist,seq,time);},report:function(sname){var ist=instance.get(sname,'page-');ist&&ist.report.call(ist);instance.destroy(sname,'page-');}};M.monitorPV={report:function(){reporter.pv.apply(reporter,arguments);}};M.monitorClick={report:function(){reporter.hotClick.apply(reporter,arguments);}};M.stringStat=function(){reporter.stringStat.apply(reporter,arguments);};})(QBL);return{monitorCgi:QBL.monitorCgi,monitorPage:QBL.monitorPage,monitorPV:QBL.monitorPV,monitorClick:QBL.monitorClick,stringStat:QBL.stringStat}});define('modules/network',['jquery','modules/storage','modules/stat'],function($,storage,stat){var QBL={};QBL.copydata=function(obj,preventName){if((typeof obj)=='object'){var res=$.isArray(obj)?[]:{};for(var i in obj){if(i!=preventName)
    res[i]=QBL.copydata(obj[i],preventName);}
    return res;}else if((typeof obj)=='function'){return Object;}
    return obj;};QBL.genHash=function(str){var hash=5381;str=str||'';for(var i=0,len=str.length;i<len;++i){hash+=(hash<<5)+str.charAt(i).charCodeAt();}
    return hash&0x7fffffff;};QBL.emptyFn=function(){};QBL.fnQueue=function(context){this.queue=[];this.context=context||null;};QBL.fnQueue.prototype={exec:function(){var item;for(var i=0,len=this.queue.length;i<len;i++){item=this.queue[i];item.length>1?item[0].apply(this.context,item[1]):item[0].apply(this.context);}},execOnce:function(){this.exec();this.queue=[];},add:function(fn,args){typeof fn==='function'&&this.queue.push(args?[fn,args]:[fn]);return this.queue.length-1;},insert:function(fn,args){typeof fn==='function'&&this.queue.unshift(args?[fn,args]:[fn]);return 0;},get:function(index){return index<=this.queue.length?this.queue[index]:null;}};QBL.network=function(url,requestParams,onSuccess,config){var ozmap;!config&&(config={});!requestParams&&(requestParams={});requestParams.callback=config.callbackName;ozmap=QBL.copydata(QBL.network.defaultOzmap);if(config.ozmap){for(var x in config.ozmap){ozmap[x]=config.ozmap[x];}}
    config.ozmap=ozmap;this.connectId=QBL.genHash(url);this.ozidFromUrl=this.connectId;this.onSuccess=onSuccess;this.onError=config.onError||QBL.emptyFn;this.onTimeout=config.onTimeout||QBL.emptyFn;this.config=config;this.charset=config.charset||'GB2312';this.method=null;this.response=null;this.connector=null;this.connectHandler=null;this.requestParams=requestParams;this.url=url;this.requestParams=QBL.network.execPlugins('paramsHandler',this).requestParams;this.url=QBL.network.execPlugins('urlHandler',this).url;this.stopRequest=false;this.stopProcessing=false;QBL.network.initSender();};QBL.network.defaultOzmap={};QBL.network.prototype.send=function(){var ch,meth,_m=this;if(this._clearCache){this.clearCache();this._clearCache=null;return;}
    if(this.method==='POST'){meth='POST';this.url+=(this.url.indexOf('?')<0?'?callback=':'&callback=')+this.requestParams.callback;}else{meth=this.connectId;}
    ch=this.connector=new this.connectHandler(this.url,meth,this.requestParams,this.charset);ch.onSuccess=function(d){if(d){_m.response=d;QBL.network.execPlugins('afterResponse',_m);if(!_m.stopProcessing){_m.onSuccess(d);}else{_m.stopProcessing=false;}}
        _m=null;};ch.onError=function(d){QBL.network.execPlugins('onError',_m);_m.onError(d);_m.onSuccess=null;_m=null;};ch.onTimeout=function(d){QBL.network.execPlugins('onTimeout',_m);_m.onTimeout(d);};this.method==='GET'&&(this.storeId=QBL.network.genStoreId(this.url,this.requestParams));QBL.network.execPlugins('beforeRequest',this);if(!this.stopRequest){ch.send(this.config.callbackName);}else{this.stopRequest=false;ch.onSuccess=ch.onError=ch.onTimeout=null;ch=null;}};QBL.network.prototype.resend=function(requestParams){if(requestParams){for(var x in requestParams){this.requestParams[x]=requestParams[x];};}
    this.send();},QBL.network.prototype.retry=function(){this.clearCache();this.send();};QBL.network.prototype.clearCache=function(){if(this.method==='GET'){this.url=this.url.replace(/(\?|&)(d=)[^&]+/,'$1$2'+QBL.network.seed.set(this.connectId));this.config.cache&&storage.del(this.storeId,this.config.cacheMedia);}};QBL.network.genStoreId=function(url,params){var storeId,str=[url];if(params){for(var x in params){str.push(x+'='+params[x]);}}
    storeId='_'+QBL.genHash(str.join('&'));return storeId;};QBL.network.seed={_prefix:'QBLSEED-',set:function(k,v){if(!k){return 0;}
    k=QBL.network.seed._prefix+k;typeof v==='undefined'&&(v=Math.random());storage.set(k,v,{media:'local',expire:600000});return v;},get:function(k){var v,_t;if(!k){return 0;}
    _t=QBL.network.seed._prefix+k;v=storage.get(_t,'local');if(!v){v=Math.random();QBL.network.seed.set(k,v);}
    return v;}};QBL.network.plugins={urlHandler:null,paramsHandler:null,beforeRequest:null,afterResponse:null,onError:null,onTimeout:null};QBL.network.addPlugin=function(type,plugin){var pl=QBL.network.plugins;type in pl&&(!pl[type]&&(pl[type]=new QBL.fnQueue()),pl[type].add(plugin));};QBL.network.execPlugins=function(type,data){var pools=QBL.network.plugins[type],fn,i=0,rt,args=Array.prototype.slice.call(arguments,2);if(pools){while(fn=pools.get(i++)){rt=fn[0].apply(null,[data].concat(args));(type==='urlHandler'||type==='paramsHandler')&&(data=rt);}}
    return data;};QBL.network.addPlugin('urlHandler',function(ch){var p=[],url=ch.url,skey;url.indexOf('?')<0&&(url+='?');url.slice(-1)!=='?'&&p.push('');skey=document.cookie.match(/(?:^|;+|\s+)skey=([^;]*)/);skey=skey?skey[1]:'';p.push('g_tk='+QBL.genHash(skey));p.push('d_p='+QBL.network.seed.get(ch.connectId));ch.url=url+p.join('&');return ch;});QBL.network.addPlugin('beforeRequest',function(ch){var url=ch.url,ps=[],requestParams=ch.requestParams;if(requestParams){for(var x in requestParams){ps.push(x+'='+requestParams[x]);};url+=(url.indexOf('?')<0?'?':'&')+ps.join('&');ch.ozidFromUrl=QBL.genHash(url);}
    stat.monitorCgi.create(ch.ozidFromUrl,url,{ozid:ch.config.ozid});});QBL.network.addPlugin('afterResponse',function(ch){stat.monitorCgi.mark(ch.ozidFromUrl);setTimeout(function(){var code,ozmap;ozmap=ch.config.ozmap;code=ozmap[ch.response.ret];!code&&(code='OTHER'in ozmap?ozmap.OTHER:12);stat.monitorCgi.report(code,code<50?true:false,ch.ozidFromUrl);},0);});QBL.network.addPlugin('onError',function(ch){var code,ozmap;if(ch){ozmap=ch.config.ozmap;code='ERROR'in ozmap?ozmap.ERROR:51;stat.monitorCgi.report(code,false,ch.ozidFromUrl);}});QBL.network.addPlugin('onTimeout',function(ch){});QBL.network.addPlugin('afterResponse',function(ch){if(ch.method==='GET'&&ch.config.cache&&ch.response.ret===0){storage.set(ch.storeId,ch.response,{media:ch.config.cacheMedia||'memory',expire:ch.config.cacheExpire});}});QBL.network.addPlugin('beforeRequest',function(cn){var d,cfg=cn.config;cfg.cache&&(!('cacheMedia'in cfg)&&(cfg.cacheMedia='memory'),d=storage.get(cn.storeId,cfg.cacheMedia))&&(cn.stopRequest=true,cn.connector.onSuccess(d));});QBL.network.isSenderInited=false;QBL.network.initSender=function(){var sender;if(QBL.network.isSenderInited){return;}
    QBL.network.isSenderInited=true;if(window.QZFL){QBL.JSONGetter=QZFL.JSONGetter;QBL.FormSender=QZFL.FormSender;}else{sender=function(url,meth,data,charset){this.url=url;this.data=data;this.method=meth;this.charset=charset;this.onSuccess=function(){};};sender.prototype.send=function(callback){var data=this.data||{},callback,url,reqid,params;reqid=QBL.network.genStoreId(this.url,data);if(this.method==='POST'){callback=callback.replace(/\./g,'_').replace('&script','');callback+=reqid;url=this.url.replace('frameElement.callback&script',callback);data.callback=null;delete data.callback;}else{callback+=reqid;data.callback=callback;url=this.url;}
        window[callback]=(function(m,callback){return function(d){m.onSuccess(d);window[callback]=null;delete window[callback];};})(this,callback);params={url:url,data:data,dataType:'script'};this.method=='POST'&&(params.type='POST');jQuery.ajax(params);};QBL.JSONGetter=function(url,meth,data,charset){this.url=url;this.data=data;this.method=meth;this.charset=charset;this.onSuccess=function(){};};QBL.JSONGetter.prototype=sender.prototype;QBL.FormSender=function(url,meth,data,charset){this.url=url;this.data=data;this.method=meth;this.charset=charset;this.onSuccess=function(){};};QBL.FormSender.prototype=sender.prototype;}};QBL.clearCache=function(cgiMeth){typeof cgiMeth==='function'&&(cgiMeth._clearCache=true,cgiMeth());};QBL.getter=function(url,requestParams,onSuccess,config){var conn,func,i=0;!config&&(config={});!config.callbackName&&(config.callbackName='_Callback');conn=new QBL.network(url,requestParams,onSuccess,config);conn.method='GET';conn._clearCache=null;func=arguments.callee;try{do{func=func.caller;if(!func){break;}
    if(typeof func._clearCache!=='undefined'){conn._clearCache=func._clearCache;func._clearCache=null;break;}}while(++i<3&&func.caller);}catch(e){}
    conn.connectHandler=config.connectHandler||QBL.JSONGetter;conn.send();return conn;};QBL.poster=function(url,requestParams,onSuccess,config){var conn,handler;!config&&(config={});config.callbackName='frameElement.callback&script';conn=new QBL.network(url,requestParams,onSuccess,config);conn.method='POST';conn.connectHandler=config.handler||QBL.FormSender;conn.send();return conn;};QBL.downloader=QBL.poster;QBL.FileUploader=function(actionURL,cname,data){this.name="__QBsubmit__"+(cname||QBL.FileUploader.counter++);QBL.FileUploader.instance[this.name]=this;this.uri=actionURL;this.data=(typeof data==='object'||typeof data==='string')?data:null;this._frame=null;this._form=null;this._file=null;this.onSuccess=QBL.emptyFn;this.onError=QBL.emptyFn;this.onTimeout=QBL.emptyFn;};QBL.FileUploader.instance={};QBL.FileUploader.counter=0;QBL.FileUploader.prototype.send=function(){var frmId=this.name+'frm__',formId=this.name+'form__',frmEl,wrapFrm,data=this.data;wrapFrm=document.createElement('div');wrapFrm.innerHTML='<iframe id="'+frmId+'" name="'+frmId+'" src="javascript:document.open();document.domain=\''+document.domain+'\';document.close();void(0);" width="1px" height="1px" style="display:none"></iframe>';document.body.appendChild(wrapFrm.firstChild);wrapFrm=null;this._frame=$('#'+frmId).get(0);frmEl=document.createElement('form');frmEl.id=frmEl.name=formId;frmEl.method='POST';frmEl.enctype=frmEl.encoding='multipart/form-data';frmEl.target=frmId;frmEl.style.cssText='display:none';document.body.appendChild(frmEl);this._form=frmEl;this._frame.callback=(function(_m){return function(d){document.body.removeChild(_m._form);document.body.removeChild(_m._frame);_m.onSuccess(d);_m=null;};})(this);var df=document.createDocumentFragment(),tmp,elist;this._file=[];if('_file'in data){for(var x in data._file){var el=data._file[x],l,cloneEl;typeof el==='string'&&(el=$(el));cloneEl=el.cloneNode(true);el.style.display='none';if(el.eventsListUID&&(l=QZFL.event._eventListDictionary[el.eventsListUID])){elist=QBL.copydata(l);for(var eventType in elist){for(var k in elist[eventType]){$(cloneEl).bind(eventType,elist[eventType][k]);}}}
    el.parentNode.insertBefore(cloneEl,el);this._form.appendChild(el);this._file.push([el,cloneEl]);}}
    for(var k in data){if(k!=='_file'){tmp=document.createElement('input');tmp.name=k;tmp.type='hidden';tmp.value=(data[k]==undefined)?'':data[k];df.appendChild(tmp);}}
    this._form.appendChild(df);this._form.action=this.uri;setTimeout((function(_m){return function(){var files=_m._file;_m._form.submit();for(var i=0,l=files.length;i<l;i++){files[i][1].parentNode.insertBefore(files[i][0],files[i][1]);files[i][0].style.display='';files[i][1].parentNode.removeChild(files[i][1]);}
        _m._file=null;_m=null;};})(this),0);};QBL.uploader=function(url,requestParams,onSuccess,config){var conn,handler;!config&&(config={});config.callbackName='frameElement.callback&script';conn=new QBL.network(url,requestParams,onSuccess,config);conn.method='POST';conn.connectHandler=config.handler||QBL.FileUploader;conn.send();return conn;};return{getter:QBL.getter,poster:QBL.poster,uploader:QBL.uploader}});define('utils',['require','exports','module','modules/microtmpl','modules/uriparams','modules/notice','modules/dialog','modules/datepicker','modules/placeholder','modules/coderept','modules/io','modules/validator','modules/json2param','modules/log','modules/dateformat','modules/network','modules/storage','modules/stat'],function(require,exports){return{tmpl:require('modules/microtmpl'),URIParams:require('modules/uriparams'),notice:require('modules/notice'),dialog:require('modules/dialog'),datepicker:require('modules/datepicker'),placeholder:require('modules/placeholder'),codeRept:require('modules/coderept'),io:require('modules/io'),validator:require('modules/validator'),param:require('modules/json2param'),log:require('modules/log'),dateFormat:require('modules/dateformat'),network:require('modules/network'),storage:require('modules/storage'),stat:require('modules/stat'),getTime:function(srvTime,baseTime){var re=(new Date()).getTime();if(srvTime&&baseTime){re=srvTime+(re-baseTime);}
    return re;}}});define('jui/core',['jquery'],function(jQuery){(function($,undefined){var uuid=0,runiqueId=/^ui-id-\d+$/;$.ui=$.ui||{};$.extend($.ui,{version:"@VERSION",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});$.fn.extend({focus:(function(orig){return function(delay,fn){return typeof delay==="number"?this.each(function(){var elem=this;setTimeout(function(){$(elem).focus();if(fn){fn.call(elem);}},delay);}):orig.apply(this,arguments);};})($.fn.focus),scrollParent:function(){var scrollParent;if(($.ui.ie&&(/(static|relative)/).test(this.css("position")))||(/absolute/).test(this.css("position"))){scrollParent=this.parents().filter(function(){return(/(relative|absolute|fixed)/).test($.css(this,"position"))&&(/(auto|scroll)/).test($.css(this,"overflow")+$.css(this,"overflow-y")+$.css(this,"overflow-x"));}).eq(0);}else{scrollParent=this.parents().filter(function(){return(/(auto|scroll)/).test($.css(this,"overflow")+$.css(this,"overflow-y")+$.css(this,"overflow-x"));}).eq(0);}
    return(/fixed/).test(this.css("position"))||!scrollParent.length?$(this[0].ownerDocument||document):scrollParent;},uniqueId:function(){return this.each(function(){if(!this.id){this.id="ui-id-"+(++uuid);}});},removeUniqueId:function(){return this.each(function(){if(runiqueId.test(this.id)){$(this).removeAttr("id");}});}});function focusable(element,isTabIndexNotNaN){var map,mapName,img,nodeName=element.nodeName.toLowerCase();if("area"===nodeName){map=element.parentNode;mapName=map.name;if(!element.href||!mapName||map.nodeName.toLowerCase()!=="map"){return false;}
    img=$("img[usemap=#"+mapName+"]")[0];return!!img&&visible(img);}
    return(/input|select|textarea|button|object/.test(nodeName)?!element.disabled:"a"===nodeName?element.href||isTabIndexNotNaN:isTabIndexNotNaN)&&visible(element);}
    function visible(element){return $.expr.filters.visible(element)&&!$(element).parents().addBack().filter(function(){return $.css(this,"visibility")==="hidden";}).length;}
    $.extend($.expr[":"],{data:$.expr.createPseudo?$.expr.createPseudo(function(dataName){return function(elem){return!!$.data(elem,dataName);};}):function(elem,i,match){return!!$.data(elem,match[3]);},focusable:function(element){return focusable(element,!isNaN($.attr(element,"tabindex")));},tabbable:function(element){var tabIndex=$.attr(element,"tabindex"),isTabIndexNaN=isNaN(tabIndex);return(isTabIndexNaN||tabIndex>=0)&&focusable(element,!isTabIndexNaN);}});if(!$("<a>").outerWidth(1).jquery){$.each(["Width","Height"],function(i,name){var side=name==="Width"?["Left","Right"]:["Top","Bottom"],type=name.toLowerCase(),orig={innerWidth:$.fn.innerWidth,innerHeight:$.fn.innerHeight,outerWidth:$.fn.outerWidth,outerHeight:$.fn.outerHeight};function reduce(elem,size,border,margin){$.each(side,function(){size-=parseFloat($.css(elem,"padding"+this))||0;if(border){size-=parseFloat($.css(elem,"border"+this+"Width"))||0;}
        if(margin){size-=parseFloat($.css(elem,"margin"+this))||0;}});return size;}
        $.fn["inner"+name]=function(size){if(size===undefined){return orig["inner"+name].call(this);}
            return this.each(function(){$(this).css(type,reduce(this,size)+"px");});};$.fn["outer"+name]=function(size,margin){if(typeof size!=="number"){return orig["outer"+name].call(this,size);}
            return this.each(function(){$(this).css(type,reduce(this,size,true,margin)+"px");});};});}
    if(!$.fn.addBack){$.fn.addBack=function(selector){return this.add(selector==null?this.prevObject:this.prevObject.filter(selector));};}
    if($("<a>").data("a-b","a").removeData("a-b").data("a-b")){$.fn.removeData=(function(removeData){return function(key){if(arguments.length){return removeData.call(this,$.camelCase(key));}else{return removeData.call(this);}};})($.fn.removeData);}
    $.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());$.support.selectstart="onselectstart"in document.createElement("div");$.fn.extend({disableSelection:function(){return this.bind(($.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(event){event.preventDefault();});},enableSelection:function(){return this.unbind(".ui-disableSelection");},zIndex:function(zIndex){if(zIndex!==undefined){return this.css("zIndex",zIndex);}
        if(this.length){var elem=$(this[0]),position,value;while(elem.length&&elem[0]!==document){position=elem.css("position");if(position==="absolute"||position==="relative"||position==="fixed"){value=parseInt(elem.css("zIndex"),10);if(!isNaN(value)&&value!==0){return value;}}
            elem=elem.parent();}}
        return 0;}});$.ui.plugin={add:function(module,option,set){var i,proto=$.ui[module].prototype;for(i in set){proto.plugins[i]=proto.plugins[i]||[];proto.plugins[i].push([option,set[i]]);}},call:function(instance,name,args,allowDisconnected){var i,set=instance.plugins[name];if(!set){return;}
        if(!allowDisconnected&&(!instance.element[0].parentNode||instance.element[0].parentNode.nodeType===11)){return;}
        for(i=0;i<set.length;i++){if(instance.options[set[i][0]]){set[i][1].apply(instance.element,args);}}}};})(jQuery);});define('jui/tooltip',['jquery','./core','./widget','./position'],function(jQuery){(function($){var increments=0;function addDescribedBy(elem,id){var describedby=(elem.attr("aria-describedby")||"").split(/\s+/);describedby.push(id);elem.data("ui-tooltip-id",id).attr("aria-describedby",$.trim(describedby.join(" ")));}
    function removeDescribedBy(elem){var id=elem.data("ui-tooltip-id"),describedby=(elem.attr("aria-describedby")||"").split(/\s+/),index=$.inArray(id,describedby);if(index!==-1){describedby.splice(index,1);}
        elem.removeData("ui-tooltip-id");describedby=$.trim(describedby.join(" "));if(describedby){elem.attr("aria-describedby",describedby);}else{elem.removeAttr("aria-describedby");}}
    $.widget("ui.tooltip",{version:"@VERSION",options:{content:function(){var title=$(this).attr("title")||"";return $("<a>").text(title).html();},hide:true,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:true,tooltipClass:null,track:false,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"});this.tooltips={};this.parents={};if(this.options.disabled){this._disable();}},_setOption:function(key,value){var that=this;if(key==="disabled"){this[value?"_disable":"_enable"]();this.options[key]=value;return;}
        this._super(key,value);if(key==="content"){$.each(this.tooltips,function(id,element){that._updateContent(element);});}},_disable:function(){var that=this;$.each(this.tooltips,function(id,element){var event=$.Event("blur");event.target=event.currentTarget=element[0];that.close(event,true);});this.element.find(this.options.items).addBack().each(function(){var element=$(this);if(element.is("[title]")){element.data("ui-tooltip-title",element.attr("title")).attr("title","");}});},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var element=$(this);if(element.data("ui-tooltip-title")){element.attr("title",element.data("ui-tooltip-title"));}});},open:function(event){var that=this,target=$(event?event.target:this.element).closest(this.options.items);if(!target.length||target.data("ui-tooltip-id")){return;}
        if(target.attr("title")){target.data("ui-tooltip-title",target.attr("title"));}
        target.data("ui-tooltip-open",true);if(event&&event.type==="mouseover"){target.parents().each(function(){var parent=$(this),blurEvent;if(parent.data("ui-tooltip-open")){blurEvent=$.Event("blur");blurEvent.target=blurEvent.currentTarget=this;that.close(blurEvent,true);}
            if(parent.attr("title")){parent.uniqueId();that.parents[this.id]={element:this,title:parent.attr("title")};parent.attr("title","");}});}
        this._updateContent(target,event);},_updateContent:function(target,event){var content,contentOption=this.options.content,that=this,eventType=event?event.type:null;if(typeof contentOption==="string"){return this._open(event,target,contentOption);}
        content=contentOption.call(target[0],function(response){if(!target.data("ui-tooltip-open")){return;}
            that._delay(function(){if(event){event.type=eventType;}
                this._open(event,target,response);});});if(content){this._open(event,target,content);}},_open:function(event,target,content){var tooltip,events,delayedShow,positionOption=$.extend({},this.options.position);if(!content){return;}
        tooltip=this._find(target);if(tooltip.length){tooltip.find(".ui-tooltip-content").html(content);return;}
        if(target.is("[title]")){if(event&&event.type==="mouseover"){target.attr("title","");}else{target.removeAttr("title");}}
        tooltip=this._tooltip(target);addDescribedBy(target,tooltip.attr("id"));tooltip.find(".ui-tooltip-content").html(content);function position(event){positionOption.of=event;if(tooltip.is(":hidden")){return;}
            tooltip.position(positionOption);}
        if(this.options.track&&event&&/^mouse/.test(event.type)){this._on(this.document,{mousemove:position});position(event);}else{tooltip.position($.extend({of:target},this.options.position));}
        tooltip.hide();this._show(tooltip,this.options.show);if(this.options.show&&this.options.show.delay){delayedShow=this.delayedShow=setInterval(function(){if(tooltip.is(":visible")){position(positionOption.of);clearInterval(delayedShow);}},$.fx.interval);}
        this._trigger("open",event,{tooltip:tooltip});events={keyup:function(event){if(event.keyCode===$.ui.keyCode.ESCAPE){var fakeEvent=$.Event(event);fakeEvent.currentTarget=target[0];this.close(fakeEvent,true);}},remove:function(){this._removeTooltip(tooltip);}};if(!event||event.type==="mouseover"){events.mouseleave="close";}
        if(!event||event.type==="focusin"){events.focusout="close";}
        this._on(true,target,events);},close:function(event){var that=this,target=$(event?event.currentTarget:this.element),tooltip=this._find(target);if(this.closing){return;}
        clearInterval(this.delayedShow);if(target.data("ui-tooltip-title")){target.attr("title",target.data("ui-tooltip-title"));}
        removeDescribedBy(target);tooltip.stop(true);this._hide(tooltip,this.options.hide,function(){that._removeTooltip($(this));});target.removeData("ui-tooltip-open");this._off(target,"mouseleave focusout keyup");if(target[0]!==this.element[0]){this._off(target,"remove");}
        this._off(this.document,"mousemove");if(event&&event.type==="mouseleave"){$.each(this.parents,function(id,parent){$(parent.element).attr("title",parent.title);delete that.parents[id];});}
        this.closing=true;this._trigger("close",event,{tooltip:tooltip});this.closing=false;},_tooltip:function(element){var id="ui-tooltip-"+increments++,tooltip=$("<div>").attr({id:id,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+
    (this.options.tooltipClass||""));$("<div>").addClass("ui-tooltip-content").appendTo(tooltip);tooltip.appendTo(this.document[0].body);this.tooltips[id]=element;return tooltip;},_find:function(target){var id=target.data("ui-tooltip-id");return id?$("#"+id):$();},_removeTooltip:function(tooltip){tooltip.remove();delete this.tooltips[tooltip.attr("id")];},_destroy:function(){var that=this;$.each(this.tooltips,function(id,element){var event=$.Event("blur");event.target=event.currentTarget=element[0];that.close(event,true);$("#"+id).remove();if(element.data("ui-tooltip-title")){element.attr("title",element.data("ui-tooltip-title"));element.removeData("ui-tooltip-title");}});}});}(jQuery));});